{"ast":null,"code":"import React,{useContext}from\"react\";import useGoogleSheetData from\"../hooks/useGoogleSheetData\";import DashboardCard from\"./DashboardCard\";import BarChartComponent from\"./BarChartComponent\";import TableComponent from\"./TableComponent\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GeneralizedViolenceDashboard=()=>{const{data,loading,error}=useGoogleSheetData(\"Violencia Generalizada\");const{filters}=useContext(FilterContext);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"});if(error)return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]});if(!data||data.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"No hay datos\"});const headers=data[0];let rows=data.slice(1);if(filters.year){rows=rows.filter(row=>{var _row$;return(_row$=row[0])===null||_row$===void 0?void 0:_row$.includes(filters.year);});}const chartData=rows.map(row=>({name:row[0],total:parseInt(row[1])||0}));return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"Violencia Generalizada\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(DashboardCard,{title:\"Casos por Mes\",children:/*#__PURE__*/_jsx(BarChartComponent,{data:chartData,xAxisKey:\"name\",yAxisKey:\"total\"})}),/*#__PURE__*/_jsx(DashboardCard,{title:\"Tipos de Violencia\",children:/*#__PURE__*/_jsx(TableComponent,{columns:headers,rows:rows})})]})]});};export default GeneralizedViolenceDashboard;","map":{"version":3,"names":["React","useContext","useGoogleSheetData","DashboardCard","BarChartComponent","TableComponent","jsx","_jsx","jsxs","_jsxs","GeneralizedViolenceDashboard","data","loading","error","filters","FilterContext","children","length","headers","rows","slice","year","filter","row","_row$","includes","chartData","map","name","total","parseInt","className","title","xAxisKey","yAxisKey","columns"],"sources":["C:/Users/Admin/ProyectoPaginaKAI/src/components/GeneralizedViolenceDashboard.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport useGoogleSheetData from \"../hooks/useGoogleSheetData\";\r\nimport DashboardCard from \"./DashboardCard\";\r\nimport BarChartComponent from \"./BarChartComponent\";\r\nimport TableComponent from \"./TableComponent\";\r\n\r\nconst GeneralizedViolenceDashboard = () => {\r\n  const { data, loading, error } = useGoogleSheetData(\"Violencia Generalizada\");\r\n  const { filters } = useContext(FilterContext);\r\n\r\n  if (loading) return <p>Cargando...</p>;\r\n  if (error) return <p>Error: {error}</p>;\r\n  if (!data || data.length === 0) return <p>No hay datos</p>;\r\n\r\n  const headers = data[0];\r\n  let rows = data.slice(1);\r\n\r\n  if (filters.year) {\r\n    rows = rows.filter(row => row[0]?.includes(filters.year));\r\n  }\r\n\r\n  const chartData = rows.map(row => ({\r\n    name: row[0],\r\n    total: parseInt(row[1]) || 0\r\n  }));\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800\">Violencia Generalizada</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        <DashboardCard title=\"Casos por Mes\">\r\n          <BarChartComponent data={chartData} xAxisKey=\"name\" yAxisKey=\"total\" />\r\n        </DashboardCard>\r\n        <DashboardCard title=\"Tipos de Violencia\">\r\n          <TableComponent columns={headers} rows={rows} />\r\n        </DashboardCard>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeneralizedViolenceDashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,MAAO,CAAAC,kBAAkB,KAAM,6BAA6B,CAC5D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CACnD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,4BAA4B,CAAGA,CAAA,GAAM,CACzC,KAAM,CAAEC,IAAI,CAAEC,OAAO,CAAEC,KAAM,CAAC,CAAGX,kBAAkB,CAAC,wBAAwB,CAAC,CAC7E,KAAM,CAAEY,OAAQ,CAAC,CAAGb,UAAU,CAACc,aAAa,CAAC,CAE7C,GAAIH,OAAO,CAAE,mBAAOL,IAAA,MAAAS,QAAA,CAAG,aAAW,CAAG,CAAC,CACtC,GAAIH,KAAK,CAAE,mBAAOJ,KAAA,MAAAO,QAAA,EAAG,SAAO,CAACH,KAAK,EAAI,CAAC,CACvC,GAAI,CAACF,IAAI,EAAIA,IAAI,CAACM,MAAM,GAAK,CAAC,CAAE,mBAAOV,IAAA,MAAAS,QAAA,CAAG,cAAY,CAAG,CAAC,CAE1D,KAAM,CAAAE,OAAO,CAAGP,IAAI,CAAC,CAAC,CAAC,CACvB,GAAI,CAAAQ,IAAI,CAAGR,IAAI,CAACS,KAAK,CAAC,CAAC,CAAC,CAExB,GAAIN,OAAO,CAACO,IAAI,CAAE,CAChBF,IAAI,CAAGA,IAAI,CAACG,MAAM,CAACC,GAAG,OAAAC,KAAA,QAAAA,KAAA,CAAID,GAAG,CAAC,CAAC,CAAC,UAAAC,KAAA,iBAANA,KAAA,CAAQC,QAAQ,CAACX,OAAO,CAACO,IAAI,CAAC,GAAC,CAC3D,CAEA,KAAM,CAAAK,SAAS,CAAGP,IAAI,CAACQ,GAAG,CAACJ,GAAG,GAAK,CACjCK,IAAI,CAAEL,GAAG,CAAC,CAAC,CAAC,CACZM,KAAK,CAAEC,QAAQ,CAACP,GAAG,CAAC,CAAC,CAAC,CAAC,EAAI,CAC7B,CAAC,CAAC,CAAC,CAEH,mBACEd,KAAA,QAAKsB,SAAS,CAAC,WAAW,CAAAf,QAAA,eACxBT,IAAA,OAAIwB,SAAS,CAAC,kCAAkC,CAAAf,QAAA,CAAC,wBAAsB,CAAI,CAAC,cAC5EP,KAAA,QAAKsB,SAAS,CAAC,sDAAsD,CAAAf,QAAA,eACnET,IAAA,CAACJ,aAAa,EAAC6B,KAAK,CAAC,eAAe,CAAAhB,QAAA,cAClCT,IAAA,CAACH,iBAAiB,EAACO,IAAI,CAAEe,SAAU,CAACO,QAAQ,CAAC,MAAM,CAACC,QAAQ,CAAC,OAAO,CAAE,CAAC,CAC1D,CAAC,cAChB3B,IAAA,CAACJ,aAAa,EAAC6B,KAAK,CAAC,oBAAoB,CAAAhB,QAAA,cACvCT,IAAA,CAACF,cAAc,EAAC8B,OAAO,CAAEjB,OAAQ,CAACC,IAAI,CAAEA,IAAK,CAAE,CAAC,CACnC,CAAC,EACb,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}